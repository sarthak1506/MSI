<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Minimalist Skin Routine Builder</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: url('https://www.hul.co.in/content-images/92ui5egz/production/ca405cf0c5e9f452af34c79088bd82e5e98c83b5-1920x1080.jpg?rect=1,0,1919,1080&w=1400&h=788&fit=crop&auto=format') no-repeat center center fixed;
      background-size: cover;
      padding: 20px;
    }
    .card { background: white; padding: 20px; border-radius: 12px; max-width: 600px; margin: auto; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    h2 { text-align: center; }
    label { font-weight: bold; }
    select, button { width: 100%; padding: 10px; margin-top: 10px; border-radius: 8px; border: 1px solid #ccc; }
    textarea { width: 100%; }
    .result { margin-top: 20px; padding: 15px; background: #eef7ff; border-radius: 10px; }
    a.button { display:inline-block; padding:8px 12px; border-radius:8px; background:#0077cc; color:white; text-decoration:none; }
  </style>
</head>
<body>
  <div class="card">
    <h2>Minimalist Routine Builder</h2>

    <label>Choose Skin Type:</label>
    <select id="skinType">
      <option value="">-- select --</option>
      <option value="oily">Oily</option>
      <option value="dry">Dry</option>
      <option value="combination">Combination</option>
      <option value="sensitive">Sensitive</option>
    </select>

    <label>Main Skin Concern:</label>
    <select id="concern">
      <option value="">-- select --</option>
      <option value="acne">Acne / Breakouts</option>
      <option value="pigmentation">Pigmentation / Dark Spots</option>
      <option value="aging">Anti‑Aging</option>
      <option value="dullness">Dull Skin</option>
    </select>

    <button onclick="generateRoutine()">Generate My Routine</button>

    <div id="output" class="result" style="display:none"></div>
  </div>

  <script>
    function generateRoutine() {
      const type = document.getElementById("skinType").value;
      const concern = document.getElementById("concern").value;
      const output = document.getElementById("output");

      if (!type || !concern) {
        output.style.display = "block";
        output.innerHTML = "⚠️ Please select both skin type and concern.";
        return;
      }

      const routines = {
        acne: [
          "Niacinamide 10% + Zinc",
          "Salicylic Acid 2% Serum",
          "Gentle Cleanser"
        ],
        pigmentation: [
          "Alpha Arbutin 2%",
          "Vitamin C 10%",
          "Sunscreen SPF 50"
        ],
        aging: [
          "Retinol 0.3%",
          "Peptide Serum",
          "Ceramide Moisturizer"
        ],
        dullness: [
          "AHA/BHA Exfoliant",
          "Vitamin C 10%",
          "Hyaluronic Acid"
        ]
      };

      // Build dynamic routines using the recommended products
      const recommended = routines[concern];

      output.style.display = "block";
      output.innerHTML = `
        <strong>Your Personalized Routine:</strong><br><br>
        <strong>Skin Type:</strong> ${type}<br>
        <strong>Concern:</strong> ${concern}<br><br>

        <strong>Recommended Minimalist Products:</strong><br>
        ${recommended.join(', ')}<br><br>

        <strong>Buy Recommended Products:</strong><br>
        <a class="button" href="https://beminimalist.co" target="_blank" rel="noopener noreferrer" style="cursor:pointer;">Visit Minimalist Store</a><br><br>

        <strong>Morning Routine:</strong><br>
        1. ${recommended[2]} (Cleanser)<br>
        2. ${recommended[0]} (Primary Serum)<br>
        3. Moisturizer<br>
        4. Sunscreen SPF 50<br><br>

        <strong>Night Routine:</strong><br>
        1. ${recommended[2]} (Cleanser)<br>
        2. ${recommended[1]} (Treatment Active)<br>
        3. Moisturizer<br><br>

        <em>Note: If you experience unusual irritation or persistent reactions, please consult a certified dermatologist before continuing with active ingredients.</em>
      `;
    }
  </script>

  <div class="card" style="margin-top:30px;">
    <h2>Skin Coach Mini</h2>
    <p>Have more questions or need deeper skin guidance? Click below to get instant help:</p>
    <div style="text-align:center; width:100%;">
      <a class="button" href="https://chatgpt.com/g/g-692e8275b86c8191b4117de4dc168af5-skin-coach-min" target="_blank" rel="noopener noreferrer" style="display:inline-block; text-align:center; padding:12px 20px; font-size:16px;">Talk to Skin Coach Mini</a>
    </div>
  </div>

  <script>
    function minChat() {
      const q = document.getElementById("chatInput").value.toLowerCase();
      const out = document.getElementById("chatOutput");

      if (!q.trim()) {
        out.style.display = "block";
        out.innerHTML = "⚠️ Please type a question for Skin Coach Mini.";
        return;
      }

      let answer = null;

      // --- GPT‑LIKE FLEXIBLE UNDERSTANDING ---
      function gptLike(text) {
        // Basic semantic expansion
        const synonyms = {
          "sunscreen": ["spf", "sun block", "sun protection"],
          "vitamin c": ["ascorbic", "brightening serum", "vc"],
          "niacinamide": ["niacin", "b3", "oil control"],
          "salicylic": ["bha", "acne acid", "pore cleaner"],
          "retinol": ["vitamin a", "anti-aging", "wrinkle serum"]
        };

        for (let key in synonyms) {
          if (text.includes(key)) return key;
          for (let s of synonyms[key]) {
            if (text.includes(s)) return key;
          }
        }
        return null;
      }

      const detected = gptLike(q);

      // --- INGREDIENT KNOWLEDGE ---
      const ingredientData = {
        "vitamin c": {
          benefits: "Brightens skin, reduces pigmentation, boosts collagen, and protects against UV damage.",
          why: "It is a powerful antioxidant that repairs sun damage and improves skin tone.",
          usage: "Use in the morning. Apply on clean skin and follow with moisturizer + sunscreen."
        },
        "niacinamide": {
          benefits: "Reduces acne marks, controls sebum, minimizes pores, and calms irritation.",
          why: "It strengthens the skin barrier and balances oil production.",
          usage: "Use morning and night. Works with most ingredients, including Vitamin C."
        },
        "salicylic": {
          benefits: "Deep‑cleans pores, reduces acne, and treats blackheads + whiteheads.",
          why: "It is oil‑soluble and clears pores from within.",
          usage: "Use at night 2–4x weekly. Avoid mixing with retinol or strong exfoliants."
        },
        "retinol": {
          benefits: "Boosts collagen, fades pigmentation, improves texture, and reduces wrinkles.",
          why: "It accelerates cell turnover helping fresh skin appear faster.",
          usage: "Use only at night. Start slow. Always apply moisturizer and use sunscreen the next day."
        },
        "sunscreen": {
          benefits: "Prevents tanning, pigmentation, aging, sunburn, and protects from UV damage.",
          why: "Blocks UVA + UVB rays which cause long‑term skin damage.",
          usage: "Apply generously. Reapply every 2–3 hours when outdoors."
        }
      };

      if (detected && ingredientData[detected]) {
        const d = ingredientData[detected];
        answer = `<strong>Benefits:</strong> ${d.benefits}<br><br>
                  <strong>Why it's used:</strong> ${d.why}<br><br>
                  <strong>How to use:</strong> ${d.usage}`;
      }

      // --- GPT‑LIKE PRODUCT MIX LOGIC ---
      const mixRules = [
        {
          combo: ["niacinamide", "vitamin c"],
          safe: true,
          usage: "Use Vitamin C first, then Niacinamide.",
          benefit: "Improves brightness, fades pigmentation faster, strengthens barrier."
        },
        {
          combo: ["retinol", "salicylic"],
          safe: false,
          usage: "Avoid mixing. Use on alternate nights.",
          benefit: "Reduces irritation risk and improves long‑term skin tolerance."
        },
        {
          combo: ["aha", "bha"],
          safe: false,
          usage: "Do not layer. Use on different days.",
          benefit: "Prevents over‑exfoliation and barrier damage."
        }
      ];

      for (let rule of mixRules) {
        if (q.includes(rule.combo[0]) && q.includes(rule.combo[1])) {
          answer = `<strong>Is it safe?</strong> ${rule.safe ? "Yes, safe to use." : "No, avoid mixing."}<br><br>
                    <strong>How to use:</strong> ${rule.usage}<br><br>
                    <strong>Benefits:</strong> ${rule.benefit}`;
        }
      }

      // --- If still nothing matches → GPT‑like fallback ---
      if (!answer) {
        out.style.display = "block";
        out.innerHTML = `<strong>Min says:</strong><br>
        I couldn't fully understand that, but I'm here to help! Try asking about an ingredient, a routine, or whether two products can be mixed.`;
        return;
      }

      // --- Normal valid reply ---
      out.style.display = "block";
      out.innerHTML = `<strong>Min says:</strong><br>${answer}<br><br>
      <em>If irritation becomes unusual, please consult a dermatologist.</em>`;
    }
    </script>

</body>
</html>
